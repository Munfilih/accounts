<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Transaction Form</title>
</head>
<body>
<!-- Common Transaction Modal -->
<div class="modal fade" id="transactionModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="transactionModalTitle">Add Transaction</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <form id="transactionForm">
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Type</label>
                        <select class="form-select" id="transactionType" required>
                            <option value="">Select Type</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Account</label>
                        <div class="d-flex">
                            <select class="form-select" id="transactionAccount" required></select>
                            <button type="button" class="btn btn-outline-primary ms-2" onclick="TransactionFormInstance.showQuickAccountModal()">+</button>
                        </div>
                    </div>
                    <div class="mb-3" id="emiSection" style="display: none;">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="enableEMI">
                            <label class="form-check-label" for="enableEMI">Enable EMI</label>
                        </div>
                    </div>
                    <div id="emiOptions" style="display: none;">
                        <div class="row mb-3">
                            <div class="col-md-4">
                                <label for="emiNumbers" class="form-label">EMI Numbers</label>
                                <input type="number" class="form-control" id="emiNumbers">
                            </div>
                            <div class="col-md-4">
                                <label for="emiAmount" class="form-label">EMI Amount</label>
                                <input type="number" step="0.01" class="form-control" id="emiAmount">
                            </div>
                            <div class="col-md-4">
                                <label for="emiType" class="form-label">EMI Type</label>
                                <select class="form-select" id="emiType">
                                    <option value="month">Monthly</option>
                                    <option value="week">Weekly</option>
                                    <option value="day">Daily</option>
                                    <option value="year">Yearly</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <div class="alert alert-info">
                                <strong>Total Amount: <span id="totalEMIAmount">â‚¹0.00</span></strong>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Amount</label>
                        <input type="number" step="0.01" class="form-control" id="transactionAmount" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Description</label>
                        <input type="text" class="form-control" id="transactionDescription">
                    </div>
                    <div class="mb-3" id="emiPaymentSection" style="display: none;">
                        <label class="form-label">Select EMI Payments</label>
                        <div id="emiPaymentList" class="border rounded p-3" style="max-height: 200px; overflow-y: auto;">
                            <!-- EMI payment options will be loaded here -->
                        </div>
                        <div class="mt-2">
                            <small class="text-muted">Select multiple EMI payments to pay at once</small>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Date</label>
                        <input type="date" class="form-control" id="transactionDate" required>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Transaction</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Quick Account Modal -->
<div class="modal fade" id="quickAccountModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add Account</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <form id="quickAccountForm">
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="quickAccountName" class="form-label">Account Name</label>
                        <input type="text" class="form-control" id="quickAccountName" required>
                    </div>
                    <div class="mb-3">
                        <label for="quickAccountType" class="form-label">Account Type</label>
                        <select class="form-select" id="quickAccountType" required></select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Account</button>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>